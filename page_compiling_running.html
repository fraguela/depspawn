<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DepSpawn: Compiling and running</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DepSpawn<span id="projectnumber">&#160;1.2</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('page_compiling_running.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Compiling and running </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Once we have installed DepSpawn, we are ready to test it in an application. For this purpose we will use the simple example code found in <code>examples/test_subobject.cpp</code>. In order to compile a DepSpawn application, we need to:</p><ol type="1">
<li>If you want to use the TBB, make sure its environment is correctly set up, which is achieved following the steps described in <a class="el" href="page_tbb_config.html">TBB configuration</a></li>
<li>Since DepSpawn relies on C++11, if our compiler requires some flag to support it (typically <code>-std=c++0x</code> or <code>-std=c++11</code>), we must apply it</li>
<li>Tell the compiler where to find the DepSpawn headers using the <code>-I</code> flag</li>
<li>Tell the compiler where to find the DepSpawn library using the <code>-L</code> flag</li>
<li>Link with DepSpawn (<code>-ldepspawn</code>) and, if desired, with the TBB (<code>-ltbb</code>)</li>
<li>If the <code>DEPSPAWN_SCALABLE_POOL</code> was set to <code>ON</code> when the library was compiled (see <a class="el" href="page_installation.html">Installing DepSpawn</a>), link also with <code>-ltbbmalloc</code></li>
</ol>
<p>So if for example DepSpawn has been installed in <code>/usr/local</code> and our compiler does not automatically use <code>/usr/local/include</code> and <code>/usr/local/lib</code> to find header files and libraries, respectively, then <code>test_subobject.cpp</code> would be compiled using <code>g++</code> with the command </p><pre class="fragment"> g++ -std=c++11 -I/usr/local/include -o test_subobject test_subobject.cpp -L/usr/local/lib -ldepspawn -ltbb
</pre><p> If DepSpawn relies on the TBB, the execution of our application requires that the TBB environment is correctly set up, as some TBB components are dynamically linked, and the TBB configuration allows to find them.</p>
<p>The DepSpawn runtime recognizes the following environment variables:</p><ul>
<li><code>DEPSPAWN_NUM_THREADS</code> defines the number of threads to use in the execution.</li>
<li><code>DEPSPAWN_TASK_QUEUE_LIMIT</code> defines the task queue limit as indicated by <a class="el" href="namespacedepspawn.html#a8906adda62ba1a66d511aced3960ea4e">set_task_queue_limit()</a>, described in <a class="el" href="page_basics.html#sec_api">Interface</a>.</li>
<li><code>DEPSPAWN_ENQUEUE_TASKS</code>, when defined, commands DepSpawn to launch tasks to execution using <code>tbb::task::enqueue()</code> instead of <code>tbb::task::spawn()</code> when the TBB is used. Please read the TBB manual on the differences between these task spawning methods. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Feb 19 2023 19:31:40 for DepSpawn by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
